
<div class="container">
<hr>
  <h3>Listado de Facturas</h3>
<hr>
  <div class="input-group mb-3">
    <div class="custom-file" (change)="onFileSelected($event)">
      <input type="file" class="custom-file-input" id="inputGroupFile02">
      <label class="custom-file-label" for="inputGroupFile02">{{name}}</label>
    </div>
    <div class="input-group-append">
      <button class="btn btn-primary" (click)="onUploadTxtFile()">Enviar</button>
      <button class="btn btn-warning"  (click)="cancelFile()">Cancel</button>
    </div>
  </div>
  <small id="emailHelp" class="form-text text-muted">Seleccione un archivo Factura de Venta en formato XML de  para ser enviada.</small>

  <div *ngIf="currentFileUpload" class="progress">
    <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar" attr.aria-valuenow="{{progress.percentage}}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width:progress.percentage+'%'}">
      {{progress.percentage}}%</div>
      <!-- <mat-progress-bar mode="determinate" value="{{progress.percentage}}"></mat-progress-bar> -->
    </div>
  </div>


  <hr>

  <div class="container">

    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Fecha</th>
          <th scope="col">Pago</th>
          <th scope="col">Folio</th>
          <th scope="col">Cliente</th>
          <th scope="col">Sucursal</th>
          <th scope="col">Total</th>
          <th scope="col">Pago</th>
          <th scope="col">acciones</th>
          <th scope="col">pagada</th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let invoice of invoices">
          <th scope="row">{{invoice.id}}</th>
          <td>{{invoice.fecha | date: 'shortDate'}}</td>
          <td>{{invoice.fechaPago | date: 'shortDate'}}</td>
          <td>{{invoice.folio}}</td>
          <td>{{invoice.customer.company}}</td>
          <td>{{invoice.customer.storeNum}}</td>
          <td>{{invoice.total | currency}}</td>
          <td>{{invoice.pago | currency}}</td>
          <td><div class="button" class="btn btn-link">Detalle</div></td>
          <td>
            <div class="custom-control custom-checkbox my-1 mr-sm-2">
              <input type="checkbox" value="{{invoice.payment}}" [checked] = "invoice.payment" (change)="onChange(invoice.id, $event.target.checked)" class="custom-control-input" id="{{invoice.id}}">
              <label class="custom-control-label" for="{{invoice.id}}"></label>
            </div>
          </td>
        </tr>
        
      </tbody>
    </table>
  </div>
    
    
    